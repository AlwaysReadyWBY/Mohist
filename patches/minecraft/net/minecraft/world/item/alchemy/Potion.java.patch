--- a/net/minecraft/world/item/alchemy/Potion.java
+++ b/net/minecraft/world/item/alchemy/Potion.java
@@ -1,66 +_,55 @@
 package net.minecraft.world.item.alchemy;
 
+import com.google.common.collect.ImmutableList;
 import java.util.List;
-import java.util.Optional;
 import javax.annotation.Nullable;
 import net.minecraft.core.Holder;
-import net.minecraft.resources.ResourceKey;
+import net.minecraft.core.registries.BuiltInRegistries;
+import net.minecraft.resources.ResourceLocation;
 import net.minecraft.world.effect.MobEffectInstance;
-import net.minecraft.world.flag.FeatureElement;
-import net.minecraft.world.flag.FeatureFlag;
-import net.minecraft.world.flag.FeatureFlagSet;
-import net.minecraft.world.flag.FeatureFlags;
-
-public class Potion implements FeatureElement {
-    @Nullable
-    private final String name;
-    private final List<MobEffectInstance> effects;
-    private FeatureFlagSet requiredFeatures = FeatureFlags.VANILLA_SET;
-
-    public Potion(MobEffectInstance... p_43487_) {
-        this(null, p_43487_);
-    }
-
-    public Potion(@Nullable String p_43484_, MobEffectInstance... p_43485_) {
-        this.name = p_43484_;
-        this.effects = List.of(p_43485_);
-    }
-
-    public Potion requiredFeatures(FeatureFlag... p_331264_) {
-        this.requiredFeatures = FeatureFlags.REGISTRY.subset(p_331264_);
-        return this;
-    }
-
-    @Override
-    public FeatureFlagSet requiredFeatures() {
-        return this.requiredFeatures;
-    }
-
-    public static String getName(Optional<Holder<Potion>> p_332314_, String p_43493_) {
-        if (p_332314_.isPresent()) {
-            String s = p_332314_.get().value().name;
-            if (s != null) {
-                return p_43493_ + s;
-            }
-        }
-
-        String s1 = p_332314_.flatMap(Holder::unwrapKey).map(p_329074_ -> p_329074_.location().getPath()).orElse("empty");
-        return p_43493_ + s1;
-    }
-
-    public List<MobEffectInstance> getEffects() {
-        return this.effects;
-    }
-
-    public boolean hasInstantEffects() {
-        if (!this.effects.isEmpty()) {
-            for (MobEffectInstance mobeffectinstance : this.effects) {
-                if (mobeffectinstance.getEffect().value().isInstantenous()) {
-                    return true;
-                }
-            }
-        }
-
-        return false;
-    }
+
+public class Potion implements net.minecraftforge.common.extensions.IForgePotion {
+   @Nullable
+   private final String name;
+   private final ImmutableList<MobEffectInstance> effects;
+   private final Holder.Reference<Potion> builtInRegistryHolder = BuiltInRegistries.POTION.createIntrusiveHolder(this);
+
+   public static Potion byName(String p_43490_) {
+      return BuiltInRegistries.POTION.get(ResourceLocation.tryParse(p_43490_));
+   }
+
+   public Potion(MobEffectInstance... p_43487_) {
+      this((String)null, p_43487_);
+   }
+
+   public Potion(@Nullable String p_43484_, MobEffectInstance... p_43485_) {
+      this.name = p_43484_;
+      this.effects = ImmutableList.copyOf(p_43485_);
+   }
+
+   public String getName(String p_43493_) {
+      return p_43493_ + (this.name == null ? BuiltInRegistries.POTION.getKey(this).getPath() : this.name);
+   }
+
+   public List<MobEffectInstance> getEffects() {
+      return this.effects;
+   }
+
+   public boolean hasInstantEffects() {
+      if (!this.effects.isEmpty()) {
+         for(MobEffectInstance mobeffectinstance : this.effects) {
+            if (mobeffectinstance.getEffect().isInstantenous()) {
+               return true;
+            }
+         }
+      }
+
+      return false;
+   }
+
+   /** @deprecated */
+   @Deprecated
+   public Holder.Reference<Potion> builtInRegistryHolder() {
+      return this.builtInRegistryHolder;
+   }
 }
