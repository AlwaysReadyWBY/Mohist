--- a/net/minecraft/resources/RegistryOps.java
+++ b/net/minecraft/resources/RegistryOps.java
@@ -41,11 +_,20 @@
       return new RegistryOps<>(p_256278_, p_256479_);
    }
 
+   public static <T> DelegatingOps.Builder<RegistryOps<T>> builder(DynamicOps<T> parent, RegistryOps.RegistryInfoLookup lookup) {
+      return DelegatingOps.builder(() -> m_255060_(parent, lookup));
+   }
+
    private RegistryOps(DynamicOps<T> p_256313_, RegistryOps.RegistryInfoLookup p_255799_) {
       super(p_256313_);
       this.f_254668_ = p_255799_;
    }
 
+   public RegistryOps(RegistryOps<T> parent) {
+      super(parent);
+      this.f_254668_ = parent.f_254668_;
+   }
+
    public <E> Optional<HolderOwner<E>> m_255056_(ResourceKey<? extends Registry<? extends E>> p_255757_) {
       return this.f_254668_.m_254838_(p_255757_).map(RegistryOps.RegistryInfo::f_254675_);
    }
@@ -71,6 +_,20 @@
          }
       }).forGetter((p_255526_) -> {
          return null;
+      });
+   }
+
+   public static <E> com.mojang.serialization.MapCodec<HolderLookup.RegistryLookup<E>> retrieveRegistryLookup(ResourceKey<? extends Registry<? extends E>> resourceKey) {
+      return ExtraCodecs.m_203976_(ops -> {
+         if (!(ops instanceof RegistryOps<?> registryOps))
+            return DataResult.error(() -> "Not a registry ops");
+
+         return registryOps.f_254668_.m_254838_(resourceKey).map(registryInfo -> {
+            if (!(registryInfo.f_254675_() instanceof HolderLookup.RegistryLookup<E> registryLookup))
+               return DataResult.<HolderLookup.RegistryLookup<E>>error(() -> "Found holder getter but was not a registry lookup for " + resourceKey);
+
+            return DataResult.success(registryLookup, registryInfo.f_254751_());
+         }).orElseGet(() -> DataResult.error(() -> "Unknown registry: " + resourceKey));
       });
    }
 
