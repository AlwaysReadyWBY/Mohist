--- a/net/minecraft/client/network/login/ClientLoginNetHandler.java
+++ b/net/minecraft/client/network/login/ClientLoginNetHandler.java
@@ -3,7 +3,6 @@
 import com.mojang.authlib.GameProfile;
 import com.mojang.authlib.exceptions.AuthenticationException;
 import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
-import com.mojang.authlib.exceptions.InsufficientPrivilegesException;
 import com.mojang.authlib.exceptions.InvalidCredentialsException;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
 import java.math.BigInteger;
@@ -100,8 +99,6 @@
          return new TranslationTextComponent("disconnect.loginFailedInfo", new TranslationTextComponent("disconnect.loginFailedInfo.serversUnavailable"));
       } catch (InvalidCredentialsException invalidcredentialsexception) {
          return new TranslationTextComponent("disconnect.loginFailedInfo", new TranslationTextComponent("disconnect.loginFailedInfo.invalidSession"));
-      } catch (InsufficientPrivilegesException insufficientprivilegesexception) {
-         return new TranslationTextComponent("disconnect.loginFailedInfo", new TranslationTextComponent("disconnect.loginFailedInfo.insufficientPrivileges"));
       } catch (AuthenticationException authenticationexception) {
          return new TranslationTextComponent("disconnect.loginFailedInfo", authenticationexception.getMessage());
       }
@@ -115,6 +112,7 @@
       this.field_209525_d.accept(new TranslationTextComponent("connect.joining"));
       this.field_175091_e = p_147390_1_.func_179730_a();
       this.field_147393_d.func_150723_a(ProtocolType.PLAY);
+      net.minecraftforge.fml.network.NetworkHooks.handleClientLoginSuccess(this.field_147393_d);
       this.field_147393_d.func_150719_a(new ClientPlayNetHandler(this.field_147394_b, this.field_147395_c, this.field_147393_d, this.field_175091_e));
    }
 
@@ -143,6 +141,7 @@
    }
 
    public void func_209521_a(SCustomPayloadLoginPacket p_209521_1_) {
+      if (net.minecraftforge.fml.network.NetworkHooks.onCustomPayload(p_209521_1_, this.field_147393_d)) return;
       this.field_209525_d.accept(new TranslationTextComponent("connect.negotiating"));
       this.field_147393_d.func_179290_a(new CCustomPayloadLoginPacket(p_209521_1_.func_209918_a(), (PacketBuffer)null));
    }
